{"version":3,"sources":["/Volumes/code/blockchain/takeoff/components/ContributeForm.js"],"names":["ContributeForm","state","value","error","loading","onSubmit","event","preventDefault","campaign","Campaign","props","address","setState","web3","eth","getAccounts","accounts","methods","contribute","send","from","utils","toWei","Router","replaceRoute","message","target"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;IAEMA,c;;;;;;;;;;;;;;;sMACJC,K,GAAQ;AACNC,aAAO,EADD;AAENC,aAAO,EAFD;AAGNC,eAAS;AAHH,K,QAMRC,Q;yHAAW,iBAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACTA,sBAAMC,cAAN;;AAEMC,wBAHG,GAGQ,2EAAAC,CAAS,MAAKC,KAAL,CAAWC,OAApB,CAHR;;AAIT,sBAAKC,QAAL,CAAc,EAAER,SAAS,IAAX,EAAiBD,OAAO,EAAxB,EAAd;;AAJS;AAAA;AAAA,uBAOgB,+DAAAU,CAAKC,GAAL,CAASC,WAAT,EAPhB;;AAAA;AAODC,wBAPC;AAAA;AAAA,uBAQDR,SAASS,OAAT,CAAiBC,UAAjB,GAA8BC,IAA9B,CAAmC;AACvCC,wBAAMJ,SAAS,CAAT,CADiC;AAEvCd,yBAAO,+DAAAW,CAAKQ,KAAL,CAAWC,KAAX,CAAiB,MAAKrB,KAAL,CAAWC,KAA5B,EAAmC,OAAnC;AAFgC,iBAAnC,CARC;;AAAA;AAYPqB,gBAAA,+CAAAA,CAAOC,YAAP,iBAAkC,MAAKd,KAAL,CAAWC,OAA7C;AAZO;AAAA;;AAAA;AAAA;AAAA;;AAcP,sBAAKC,QAAL,CAAc,EAAET,OAAO,YAAMsB,OAAf,EAAd;;AAdO;AAgBT,sBAAKb,QAAL,CAAc,EAAER,SAAS,KAAX,EAAkBF,OAAO,EAAzB,EAAd;;AAhBS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;6BAmBF;AAAA;;AACP,aACE;AAAC,uEAAD;AAAA,UAAM,UAAU,KAAKG,QAArB,EAA+B,OAAO,CAAC,CAAC,KAAKJ,KAAL,CAAWE,KAAnD;AAAA;AAAA;AAAA;AAAA;AACE;AAAC,yEAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF;AAEE,sEAAC,gEAAD;AACE,mBAAS,KAAKF,KAAL,CAAWC,KADtB;AAEE,mBAAM,OAFR;AAGE,2BAAc,OAHhB;AAIE,sBAAU;AAAA,qBAAS,OAAKU,QAAL,CAAc,EAACV,OAAOI,MAAMoB,MAAN,CAAaxB,KAArB,EAAd,CAAT;AAAA,aAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF,SADF;AAUE,oEAAC,kEAAD,IAAS,WAAT,EAAe,QAAO,QAAtB,EAA+B,SAAS,KAAKD,KAAL,CAAWE,KAAnD;AAAA;AAAA;AAAA;AAAA,UAVF;AAWE;AAAC,2EAAD;AAAA;AACE,yBADF;AAEE,qBAAS,KAAKF,KAAL,CAAWG,OAFtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXF,OADF;AAoBD;;;;;;;;;EA/C0B,gD;;eAkDdJ,c;;;AAAf;;;;;;;;;;;;0BAlDMA,c","file":"4.1a6ab7daf6496f8efdbe.hot-update.js","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Input, Message, Button } from 'semantic-ui-react';\nimport Campaign from '../ethereum/campaign';\nimport web3 from '../ethereum/web3';\nimport { Router } from '../routes';\n\nclass ContributeForm extends Component {\n  state = {\n    value: '',\n    error: '',\n    loading: false\n  }\n\n  onSubmit = async event => {\n    event.preventDefault();\n\n    const campaign = Campaign(this.props.address)\n    this.setState({ loading: true, error: '' })\n\n    try {\n      const accounts = await web3.eth.getAccounts();\n      await campaign.methods.contribute().send({\n        from: accounts[0],\n        value: web3.utils.toWei(this.state.value, 'ether')\n      })\n      Router.replaceRoute(`/campaigns/${this.props.address}`)\n    } catch(error) {\n      this.setState({ error: error.message });\n    }\n    this.setState({ loading: false, value: '' });\n  }\n\n  render() {\n    return (\n      <Form onSubmit={this.onSubmit} error={!!this.state.error}>\n        <Form.Field>\n          <label>Amount to Contribute</label>\n          <Input\n            value = {this.state.value}\n            label=\"ether\"\n            labelPosition=\"right\"\n            onChange={event => this.setState({value: event.target.value})}\n          />\n        </Form.Field>\n        <Message error header=\"Error!\" content={this.state.error} />\n        <Button\n          primary\n          loading={this.state.loading}\n        >\n          Contribute!\n        </Button>\n      </Form>\n    )\n  }\n}\n\nexport default ContributeForm;\n\n\n\n// WEBPACK FOOTER //\n// ./components/ContributeForm.js"],"sourceRoot":""}